/*! Ajax-Include - v0.1.0 - 2012-08-17
* http://filamentgroup.com/lab/ajax_includes_modular_content/
* Copyright (c) 2012 @scottjehl, Filament Group, Inc.; Licensed MIT */
(function(a,b){a.fn.ajaxInclude=function(b){var c=[],d=this;return this.each(function(e){var f=a(this),g=window,h=f.attr("data-media"),i=["append","replace","before","after"],j,k,l;if(!h||g.matchMedia&&g.matchMedia(h).matches){for(var m=i.length,n=0;n<m;n++)f.is("[data-"+i[n]+"]")&&(j=k=i[n],l=f.attr("data-"+j));j==="replace"&&(k+="With"),l&&k&&(f.data("method",k).data("methodattr","data-"+j).data("url",l).bind("ajaxInclude",function(b,c){var d=a(c);a(this).data("proxy")&&(d=d.filter('entry[url="'+a(this).data("url")+'"]').html()),a(this)[a(this).data("method")](d).removeAttr(a(this).data("methodattr"))}),b&&(f.data("proxy",b),a.inArray(l,c)===-1&&c.push(l),e===d.length-1&&(l=b+c.join())),(!b||e===d.length-1)&&a.get(l,function(a){(b?d:f).trigger("ajaxInclude",[a])}))}})}})(jQuery);